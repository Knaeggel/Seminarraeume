@{
    DateTime date = new DateTime();
    int anzCol = 7;
}

@model Room

<script language="javascript" type="text/javascript" src="\wwwroot\js\site.js"></script>
<div class="homeSite container">
    <div class="row">
        <div class="searchAndPic col-3">
            <div class="search">
                <h1>Suche</h1>

                <label for="Building">Gebäude</label>
                <select id="Building" class="form-select" size="1" aria-label="">
                    <option value="all" selected>All</option>
                    <option value="A">A</option>
                    <option value="B">B</option>
                    <option value="C">C</option>
                </select>

                <label for="room">Raumnummer</label>
                <input type="text" name="room" class="room" required>

                <label for="seats">Anzahl Sitzplätze</label>
                <input type="text" name="seats" class="seats" required>

                <label for="whatkindofroom">Art des Raums</label>
                <input type="text" name="whatkindofroom" class="whatkindofroom">

                <button type="submit" id="searchButton" class="searchButton" onclick="search()">suchen</button>

            </div>
        </div>

        <div class="col">
        @{
            foreach (var item in ViewBag.Rooms)
            {
                <form class="rooms col-6" asp-action="räume" asp-route-name="@item.RoomName">
                    <button type="submit" class="btn btn-primary">@item.RoomName</button>
                </form>
            }
        }
        </div>

        <div class="col-6">
            <div class="card-header">
                <h5>Raum</h5>
            </div>

            <form>
                <div class="card-body">
                    <div class="row">
                        <div class="col form-group">
                            <label>Name:</label><br />
                            <input asp-for="RoomName" class="form-control" placeholder="@ViewBag.Room.RoomName"/>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col form-group">
                            <label>Art:</label><br />
                            <input asp-for="KindOfRoom" class="form-control" placeholder="@ViewBag.Room.KindOfRoom"/>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col form-group">
                            <label>Größe:</label><br />
                            <input asp-for="RoomSize" class="form-control" placeholder="@ViewBag.Room.RoomSize"/>
                        </div>
                    </div>

                    @{
                    if (ViewBag.Room.RoomName != null)
                    {
                                <div class="row">
                                    <div class="col form-group">
                                        <table>
                                            <tr>
                                                @{
                                        DateTime tempDate = new DateTime();
                                        tempDate = DateTime.Now;
                                        for (int i = 0; i < anzCol; i++)
                                        {
                                                            <th>@tempDate.ToString("dd.MM.yyyy")</th>
                                            
                                            tempDate = tempDate.AddDays(1);
                                        }
                                                }
                                            </tr>

                                            <tr>
                                                @{
                                            
                                        for (int i = 0; i < anzCol; i++)
                                        {
                                            var item = ViewBag.Days.ToArray()[i];
                                                            <td>@item.Block1</td>
                                        }
                                                }
                                            </tr>

                                            <tr>
                                                @{
                                            
                                        for (int i = 0; i < anzCol; i++)
                                        {
                                            var item = ViewBag.Days.ToArray()[i];
                                                            <td>@item.Block2</td>
                                        }
                                                }
                                            </tr>

                                            <tr>
                                                @{
                                            
                                        for (int i = 0; i < anzCol; i++)
                                        {
                                            var item = ViewBag.Days.ToArray()[i];
                                                            <td>@item.Block3</td>
                                        }
                                                }
                                            </tr>

                                            <tr>
                                                @{
                                            
                                        for (int i = 0; i < anzCol; i++)
                                        {
                                            var item = ViewBag.Days.ToArray()[i];
                                                            <td>@item.Block4</td>
                                        }
                                                }
                                            </tr>

                                            <tr>
                                                @{
                                            
                                        for (int i = 0; i < anzCol; i++)
                                        {
                                            var item = ViewBag.Days.ToArray()[i];
                                                            <td>@item.Block5</td>
                                        }
                                                }
                                            </tr>

                                            <tr>
                                                @{
                                            
                                        for (int i = 0; i < anzCol; i++)
                                        {
                                            var item = ViewBag.Days.ToArray()[i];
                                                            <td>@item.Block6</td>
                                        }
                                                }
                                            </tr>

                                            <tr>
                                                @{
                                            
                                        for (int i = 0; i < anzCol; i++)
                                        {
                                            var item = ViewBag.Days.ToArray()[i];
                                                            <td>@item.Block7</td>
                                        }
                                                }
                                            </tr>

                                            <tr>
                                                @{
                                            
                                        for (int i = 0; i < anzCol; i++)
                                        {
                                            var item = ViewBag.Days.ToArray()[i];
                                                            <td>@item.Block8</td>
                                        }
                                                }
                                            </tr>

                                        </table>


                                        <!--
                                        <label>Tag:</label><br />
                                        <input class="form-control" placeholder="@ViewBag.date.ToString("dd.MM.yyyy")"/>
                                        -->
                                        
                                    </div>
                                </div>
                    }
                    }
                </div>
                
                <div class="card footer">
                    <button type="submit" class="btn btn-primary">Speichern</button>
                </div>
            </form>
        </div>
    </div>
</div>
